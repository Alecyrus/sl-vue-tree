{"version":3,"sources":["webpack://SlVueTree/webpack/universalModuleDefinition","webpack://SlVueTree/webpack/bootstrap","webpack://SlVueTree/./src/sl-vue-tree.js","webpack://SlVueTree/./node_modules/vue-loader/lib/runtime/component-normalizer.js","webpack://SlVueTree/./src/sl-vue-tree.vue?75ef","webpack://SlVueTree/./src/sl-vue-tree.vue"],"names":["name","props","value","type","Array","default","edgeSize","Number","showBranches","Boolean","level","parentInd","allowMultiselect","scrollAreaHeight","maxScrollSpeed","data","rootCursorPosition","scrollIntervalId","scrollSpeed","lastSelectedNode","mouseIsDown","isDragging","lastMousePos","x","y","mounted","isRoot","document","addEventListener","onDocumentMouseupHandler","beforeDestroy","removeEventListener","computed","cursorPosition","getParent","nodes","nodeModels","copy","getNodes","children","gaps","i","push","selectionSize","getSelected","length","methods","setCursorPosition","pos","parentPath","map","nodeModel","ind","nodePath","concat","getNode","path","siblings","slice","getNodeSiblings","node","title","isLeaf","isExpanded","isSelected","pathStr","JSON","stringify","isFirstChild","isLastChild","emitInput","newValue","getRoot","$emit","emitSelect","selectedNodes","event","emitDrop","draggingNodes","position","emitToggle","toggledNode","emitNodeClick","emitNodeDblclick","emitNodeContextmenu","select","addToSelection","ctrlKey","clickedNode","newNodes","shiftSelectionMode","shiftKey","shiftSelectionStarted","traverse","onNodeMousemoveHandler","initialDraggingState","clientX","clientY","isDragStarted","$root","$el","rootRect","getBoundingClientRect","$dragInfo","$refs","dragInfo","dragInfoTop","top","scrollTop","style","marginBottom","dragInfoLeft","left","$target","elementFromPoint","$nodeItem","getAttribute","closest","destNode","parse","nodeHeight","offsetHeight","offsetY","placement","scrollBottomLine","bottom","scrollDownSpeed","scrollTopLine","scrollTopSpeed","startScroll","stopScroll","onMouseleaveHandler","getLastNode","getFirstNode","getNodeEl","querySelector","lastNode","onNodeMousedownHandler","button","speed","setInterval","clearInterval","onNodeMouseupHandler","targetNode","stopDrag","draggingNode","checkNodeIsParent","nodeModelsToInsert","sourceSiblings","draggingNodeModel","destSiblings","destNodeModel","unshift","insertInd","splice","onToggleHandler","updateNode","stopPropagation","$parent","patch","Object","assign","cb","shouldStop","forEach","nodeInd","itemPath","remove","paths","pathsStr","_markToDelete","sourceNode","destPath","entity"],"mappings":"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;AACA,aAAOU,KAAKC,SAAL,CAAeyG,SAASlH,KAAT,CAAe,CAAf,EAAkBiH,WAAWnH,IAAX,CAAgBX,MAAlC,CAAf,KAA6D8H,WAAW1G,OAA/E;AACD,KAzbM;;AA2bP5B,SAAKwI,MAAL,EAAa;AACX,aAAO3G,KAAKqD,KAAL,CAAWrD,KAAKC,SAAL,CAAe0G,MAAf,CAAX,CAAP;AACD;;AA7bM;AA5FI,CAAf,E;;;;;;;;;;;;;ACDA;AAAA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACpGA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,iCAAiC;AAC/C;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS,sDAAsD;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,4BAA4B,qBAAqB;AACjD;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,uBAAuB;AACvB;AACA;AACA,uBAAuB;AACvB;AACA;AACA,uBAAuB;AACvB;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,wCAAwC,iCAAiC;AACzE,qBAAqB;AACrB;AACA;AACA;AACA;AACA,2BAA2B,oCAAoC;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mCAAmC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,qCAAqC;AAC5D,gDAAgD,aAAa;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,6DAA6D,aAAa;AAC1E;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQ;AACR,a;;;;;;;;;;;;;;;AC3SA;AAAA;AACA;AACA;AACA;AACiP;AACjP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAaC;;AAED","file":"sl-vue-tree.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SlVueTree\"] = factory();\n\telse\n\t\troot[\"SlVueTree\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/sl-vue-tree.vue\");\n","\nexport default {\n  name: 'sl-vue-tree',\n  props: {\n    value: {\n      type: Array,\n      default: () => []\n    },\n    edgeSize: {\n      type: Number,\n      default: 3\n    },\n    showBranches: {\n      type: Boolean,\n      default: false\n    },\n    level: {\n      type: Number,\n      default: 0\n    },\n    parentInd: {\n      type: Number\n    },\n    allowMultiselect: {\n      type: Boolean,\n      default: true\n    },\n    scrollAreaHeight: {\n      type: Number,\n      default: 70\n    },\n    maxScrollSpeed: {\n      type: Number,\n      default: 20\n    }\n  },\n\n  data() {\n    return {\n      rootCursorPosition: null,\n      scrollIntervalId: 0,\n      scrollSpeed: 0,\n      lastSelectedNode: null,\n      mouseIsDown: false,\n      isDragging: false,\n      lastMousePos: {x: 0, y: 0}\n    };\n  },\n\n  mounted() {\n    if (this.isRoot) {\n      document.addEventListener('mouseup', this.onDocumentMouseupHandler);\n    }\n  },\n\n  beforeDestroy() {\n    document.removeEventListener('mouseup', this.onDocumentMouseupHandler);\n  },\n\n  computed: {\n    cursorPosition() {\n      if (this.isRoot) return this.rootCursorPosition;\n      return this.getParent().cursorPosition;\n    },\n\n    nodes() {\n      if (this.isRoot) {\n        const nodeModels = this.copy(this.value);\n        return this.getNodes(nodeModels);\n      }\n\n      return this.getParent().nodes[this.parentInd].children;\n    },\n    /**\n   * gaps is using for nodes indentation\n   * @returns {number[]}\n   */\n    gaps() {\n      const gaps = [];\n      let i = this.level - 1;\n      if (!this.showBranches) i++;\n      while (i-- > 0) gaps.push(i);\n      return gaps;\n    },\n\n    isRoot() {\n      return !this.level\n    },\n\n    selectionSize() {\n      return this.getSelected().length;\n    }\n  },\n  methods: {\n\n    setCursorPosition(pos) {\n      if (this.isRoot) {\n        this.rootCursorPosition = pos;\n        return;\n      }\n      this.getParent().setCursorPosition(pos);\n    },\n\n    getNodes(nodeModels, parentPath = []) {\n\n      return nodeModels.map((nodeModel, ind) => {\n        const nodePath = parentPath.concat(ind);\n        return this.getNode(nodePath, nodeModel, nodeModels);\n      })\n    },\n\n    getNode(\n      path,\n      nodeModel = null,\n      siblings = null\n    ) {\n      const ind = path.slice(-1)[0];\n      siblings = siblings || this.getNodeSiblings(this.value, path);\n      nodeModel = nodeModel || siblings[ind];\n\n      const node = {\n\n        // define the all ISlTreeNodeModel props\n        title: nodeModel.title,\n        isLeaf: !!nodeModel.isLeaf,\n        children: nodeModel.children ? this.getNodes(nodeModel.children, path) : [],\n        isExpanded: nodeModel.isExpanded == void 0 ? true : !!nodeModel.isExpanded,\n        isSelected: !!nodeModel.isSelected,\n        data: nodeModel.data !== void 0 ? nodeModel.data : {},\n\n        // define the all ISlTreeNode computed props\n        path: path,\n        pathStr: JSON.stringify(path),\n        level: path.length,\n        ind,\n        isFirstChild: ind == 0,\n        isLastChild: ind === siblings.length - 1\n      };\n      return node;\n    },\n\n    emitInput(newValue) {\n      this.getRoot().$emit('input', newValue);\n    },\n\n    emitSelect(selectedNodes, event) {\n      this.getRoot().$emit('select', selectedNodes, event);\n    },\n\n    emitDrop(draggingNodes, position, event) {\n      this.getRoot().$emit('drop', draggingNodes, position, event);\n    },\n\n    emitToggle(toggledNode, event) {\n      this.getRoot().$emit('toggle', toggledNode, event);\n    },\n\n    emitNodeClick(node, event) {\n      this.getRoot().$emit('nodeclick', node, event);\n    },\n\n    emitNodeDblclick(node, event) {\n      this.getRoot().$emit('nodedblclick', node, event);\n    },\n\n    emitNodeContextmenu(node, event) {\n      this.getRoot().$emit('nodecontextmenu', node, event);\n    },\n\n\n    select(path, event = null, addToSelection = false) {\n      addToSelection = ((event && event.ctrlKey) || addToSelection) && this.allowMultiselect;\n      const clickedNode = this.getNode(path);\n      const newNodes = this.copy(this.value);\n      const shiftSelectionMode = this.allowMultiselect && event.shiftKey && this.lastSelectedNode;\n      const selectedNodes = [];\n      let shiftSelectionStarted = false;\n\n      this.traverse((node, nodeModel) => {\n\n        if (shiftSelectionMode) {\n          if (node.pathStr === clickedNode.pathStr || node.pathStr === this.lastSelectedNode.pathStr) {\n            nodeModel.isSelected = true;\n            shiftSelectionStarted = !shiftSelectionStarted;\n          }\n          if (shiftSelectionStarted) nodeModel.isSelected = true;\n        } else if (node.pathStr === clickedNode.pathStr) {\n          nodeModel.isSelected = true;\n        } else if (!addToSelection) {\n          if (nodeModel.isSelected) nodeModel.isSelected = false;\n        }\n\n        if (nodeModel.isSelected) selectedNodes.push(node);\n\n      }, newNodes);\n\n\n      this.lastSelectedNode = clickedNode;\n      this.emitInput(newNodes);\n      this.emitSelect(selectedNodes, event);\n    },\n\n    onNodeMousemoveHandler(event) {\n      if (!this.isRoot) {\n        this.getRoot().onNodeMousemoveHandler(event);\n        return;\n      }\n\n      const initialDraggingState = this.isDragging;\n      this.isDragging =\n        this.isDragging || (\n        this.mouseIsDown &&\n        (this.lastMousePos.x !== event.clientX || this.lastMousePos.y !== event.clientY)\n      );\n\n      const isDragStarted = initialDraggingState === false && this.isDragging === true;\n\n\n\n      this.lastMousePos = {\n        x: event.clientX,\n        y: event.clientY\n      };\n\n\n      if (!this.isDragging) return;\n\n      const $root = this.getRoot().$el;\n      const rootRect = $root.getBoundingClientRect();\n      const $dragInfo = this.$refs.dragInfo;\n      const dragInfoTop = (event.clientY - rootRect.top + $root.scrollTop - ($dragInfo.style.marginBottom | 0) );\n      const dragInfoLeft = (event.clientX - rootRect.left);\n\n      $dragInfo.style.top = dragInfoTop + 'px';\n      $dragInfo.style.left = dragInfoLeft + 'px';\n\n\n\n      const $target = document.elementFromPoint(event.clientX, event.clientY);\n      const $nodeItem = $target.getAttribute('path') ? $target : $target.closest('[path]');\n\n      if (!$nodeItem) return;\n\n      const destNode = this.getNode(JSON.parse($nodeItem.getAttribute('path')));\n\n      if (isDragStarted && !destNode.isSelected) {\n        this.select(destNode.path, event);\n      }\n\n\n      const nodeHeight = $nodeItem.offsetHeight;\n      const edgeSize = this.edgeSize;\n      const offsetY = event.offsetY;\n      let placement;\n\n\n      if (destNode.isLeaf) {\n        placement = offsetY >= nodeHeight / 2 ? 'after' : 'before';\n      } else {\n        if (offsetY <= edgeSize) {\n          placement = 'before';\n        } else if (offsetY >= nodeHeight - edgeSize) {\n          placement = 'after';\n        } else {\n          placement = 'inside';\n        }\n      }\n\n      this.setCursorPosition({ node: destNode, placement });\n\n      const scrollBottomLine = rootRect.bottom - this.scrollAreaHeight;\n      const scrollDownSpeed = (event.clientY - scrollBottomLine) / (rootRect.bottom - scrollBottomLine);\n      const scrollTopLine = rootRect.top + this.scrollAreaHeight;\n      const scrollTopSpeed = (scrollTopLine - event.clientY) / (scrollTopLine - rootRect.top);\n\n      if (scrollDownSpeed > 0) {\n        this.startScroll(scrollDownSpeed);\n      } else if (scrollTopSpeed > 0) {\n        this.startScroll(-scrollTopSpeed)\n      } else {\n        this.stopScroll();\n      }\n    },\n\n    onMouseleaveHandler(event) {\n      if (!this.isRoot || !this.isDragging) return;\n      const $root = this.getRoot().$el;\n      const rootRect = $root.getBoundingClientRect();\n      if (event.clientY >= rootRect.bottom) {\n        this.setCursorPosition({ node: this.getLastNode(), placement: 'after' });\n      } else if (event.clientY < rootRect.top) {\n        this.setCursorPosition({ node: this.getFirstNode(), placement: 'before'});\n      }\n    },\n\n    getNodeEl(path) {\n      this.getRoot().$el.querySelector(`[path=\"${JSON.stringify(path)}\"]`);\n    },\n\n    getLastNode() {\n      let lastNode  = null;\n      this.traverse((node) => {\n        lastNode = node;\n      });\n      return lastNode;\n    },\n\n    getFirstNode() {\n      return this.getNode([0]);\n    },\n\n    onNodeMousedownHandler(event, node) {\n      // handle only left mouse button\n      if (event.button !== 0) return;\n\n      if (!this.isRoot) {\n        this.getRoot().onNodeMousedownHandler(event, node);\n        return;\n      }\n      this.mouseIsDown = true;\n    },\n\n\n    startScroll(speed) {\n      const $root = this.getRoot().$el;\n      if (this.scrollSpeed === speed) {\n        return;\n      } else if (this.scrollIntervalId) {\n        this.stopScroll();\n      }\n\n      this.scrollSpeed = speed;\n      this.scrollIntervalId = setInterval(() => {\n        $root.scrollTop += this.maxScrollSpeed * speed;\n      }, 20);\n    },\n\n    stopScroll() {\n      clearInterval(this.scrollIntervalId);\n      this.scrollIntervalId = 0;\n      this.scrollSpeed = 0;\n    },\n\n    onDocumentMouseupHandler(event) {\n      if (this.isDragging) this.onNodeMouseupHandler(event);\n    },\n\n    onNodeMouseupHandler(event, targetNode = null) {\n\n      // handle only left mouse button\n      if (event.button !== 0) return;\n\n      if (!this.isRoot) {\n        this.getRoot().onNodeMouseupHandler(event, targetNode);\n        return;\n      }\n\n      this.mouseIsDown = false;\n\n      if (!this.isDragging && targetNode) {\n        this.select(targetNode.path, event);\n        return;\n      }\n\n      if (!this.cursorPosition) {\n        this.stopDrag();\n        return;\n      };\n\n\n      const draggingNodes = this.getSelected();\n\n      // check that nodes is possible to insert\n      for (let draggingNode of draggingNodes) {\n        if (draggingNode.pathStr == this.cursorPosition.node.pathStr) {\n          this.stopDrag();\n          return;\n        }\n\n        if (this.checkNodeIsParent(draggingNode, this.cursorPosition.node)) {\n          this.stopDrag();\n          return;\n        };\n      }\n\n      const newNodes = this.copy(this.value);\n      const nodeModelsToInsert = [];\n\n      // find and mark dragging model to delete\n      for (let draggingNode of draggingNodes) {\n        const sourceSiblings = this.getNodeSiblings(newNodes, draggingNode.path);\n        const draggingNodeModel = sourceSiblings[draggingNode.ind];\n        nodeModelsToInsert.push(this.copy(draggingNodeModel));\n        draggingNodeModel['_markToDelete'] = true;\n      }\n\n\n      // insert dragging nodes to the new place\n      const destNode = this.cursorPosition.node;\n      const destSiblings = this.getNodeSiblings(newNodes, destNode.path);\n      const destNodeModel = destSiblings[destNode.ind];\n\n      if (this.cursorPosition.placement === 'inside') {\n        destNodeModel.children = destNodeModel.children || [];\n        destNodeModel.children.unshift(...nodeModelsToInsert);\n      } else {\n        const insertInd = this.cursorPosition.placement === 'before' ?\n          destNode.ind :\n          destNode.ind + 1;\n\n        destSiblings.splice(insertInd, 0, ...nodeModelsToInsert);\n      }\n\n\n\n      // delete dragging node from the old place\n      this.traverse((node, nodeModel, siblings) => {\n        let i = siblings.length;\n        while (i--) {\n          if (siblings[i]['_markToDelete']) siblings.splice(i, 1);\n        }\n      }, newNodes);\n\n\n      this.lastSelectedNode = null;\n      this.emitInput(newNodes);\n      this.emitDrop(draggingNodes, this.cursorPosition, event);\n      this.stopDrag();\n    },\n\n\n    onToggleHandler(event, node) {\n      this.updateNode(node.path, { isExpanded: !node.isExpanded });\n      this.emitToggle(node, event);\n      event.stopPropagation();\n    },\n\n    stopDrag() {\n      this.isDragging = false;\n      this.mouseIsDown = false;\n      this.setCursorPosition(null);\n      this.stopScroll();\n    },\n\n\n    getParent() {\n      return this.$parent;\n    },\n\n    getRoot() {\n      if (this.isRoot) return this;\n      return this.getParent().getRoot();\n    },\n\n    getNodeSiblings(nodes, path) {\n      if (path.length === 1) return nodes;\n      return this.getNodeSiblings(nodes[path[0]].children, path.slice(1));\n    },\n\n\n    updateNode(path, patch) {\n      if (!this.isRoot) {\n        this.getParent().updateNode(path, patch);\n        return;\n      }\n\n      const pathStr = JSON.stringify(path);\n      const newNodes = this.copy(this.value);\n      this.traverse((node, nodeModel) => {\n        if (node.pathStr !== pathStr) return;\n        Object.assign(nodeModel, patch);\n      }, newNodes);\n\n      this.emitInput(newNodes);\n    },\n\n    getSelected() {\n      const selectedNodes = [];\n      this.traverse((node) => {\n        if (node.isSelected) selectedNodes.push(node);\n      });\n      return selectedNodes;\n    },\n\n\n    traverse(\n      cb,\n      nodeModels = null,\n      parentPath = []\n    ) {\n      if (!nodeModels) nodeModels = this.value;\n\n      let shouldStop = false;\n\n      const nodes = [];\n\n      nodeModels.forEach((nodeModel, nodeInd) => {\n        const itemPath = parentPath.concat(nodeInd);\n        const node = this.getNode(itemPath, nodeModel, nodeModels);\n        shouldStop = cb(node, nodeModel, nodeModels) === false;\n        nodes.push(node);\n\n        if (shouldStop) return false;\n\n        if (nodeModel.children) {\n          shouldStop = this.traverse(cb, nodeModel.children, itemPath) === false;\n        }\n      });\n\n      return !shouldStop ? nodes : false;\n    },\n\n    remove(paths) {\n      const pathsStr = paths.map(path => JSON.stringify(path));\n      const newNodes = this.copy(this.value);\n      this.traverse( (node, nodeModel, siblings) => {\n        for (const pathStr of pathsStr) {\n          if (node.pathStr === pathStr) nodeModel._markToDelete = true;\n        }\n      }, newNodes);\n\n      this.traverse((node, nodeModel, siblings) => {\n        let i = siblings.length;\n        while (i--) {\n          if (siblings[i]._markToDelete) siblings.splice(i, 1);\n        }\n      }, newNodes);\n\n      this.emitInput(newNodes);\n    },\n\n    checkNodeIsParent(sourceNode, destNode) {\n      const destPath = destNode.path;\n      return JSON.stringify(destPath.slice(0, sourceNode.path.length)) == sourceNode.pathStr;\n    },\n\n    copy(entity) {\n      return JSON.parse(JSON.stringify(entity));\n    }\n\n  }\n};\n","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  scriptExports = scriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof scriptExports.default\n  if (type === 'object' || type === 'function') {\n    scriptExports = scriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () { injectStyles.call(this, this.$root.$options.shadowRoot) }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticClass: \"sl-vue-tree\",\n      class: { \"sl-vue-tree-root\": _vm.isRoot },\n      on: {\n        mousemove: function(event) {\n          return _vm.onNodeMousemoveHandler(event)\n        },\n        mouseleave: function(event) {\n          return _vm.onMouseleaveHandler(event)\n        }\n      }\n    },\n    [\n      _c(\n        \"div\",\n        { ref: \"nodes\", staticClass: \"sl-vue-tree-nodes-list\" },\n        [\n          _vm._l(_vm.nodes, function(node, nodeInd) {\n            return _c(\n              \"div\",\n              {\n                staticClass: \"sl-vue-tree-node\",\n                class: { \"sl-vue-tree-selected\": node.isSelected }\n              },\n              [\n                _c(\"div\", {\n                  staticClass: \"sl-vue-tree-cursor sl-vue-tree-cursor_before\",\n                  style: {\n                    visibility:\n                      _vm.cursorPosition &&\n                      _vm.cursorPosition.node.pathStr === node.pathStr &&\n                      _vm.cursorPosition.placement === \"before\"\n                        ? \"visible\"\n                        : \"hidden\"\n                  },\n                  on: {\n                    dragover: function(event) {\n                      return event.preventDefault()\n                    }\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  {\n                    staticClass: \"sl-vue-tree-node-item\",\n                    class: {\n                      \"sl-vue-tree-cursor-inside\":\n                        _vm.cursorPosition &&\n                        _vm.cursorPosition.placement === \"inside\" &&\n                        _vm.cursorPosition.node.pathStr === node.pathStr,\n                      \"sl-vue-tree-node-is-leaf\": node.isLeaf,\n                      \"sl-vue-tree-node-is-folder\": !node.isLeaf\n                    },\n                    attrs: { path: node.pathStr },\n                    on: {\n                      drop: function(event) {\n                        return _vm.onNodeDropHandler(event, node)\n                      },\n                      mousedown: function(event) {\n                        return _vm.onNodeMousedownHandler(event, node)\n                      },\n                      mouseup: function(event) {\n                        return _vm.onNodeMouseupHandler(event, node)\n                      },\n                      contextmenu: function(event) {\n                        return _vm.emitNodeContextmenu(node, event)\n                      },\n                      dblclick: function(event) {\n                        return _vm.emitNodeDblclick(node, event)\n                      },\n                      click: function($event) {\n                        _vm.emitNodeClick(node, $event)\n                      }\n                    }\n                  },\n                  [\n                    _vm._l(_vm.gaps, function(gapInd) {\n                      return _c(\"div\", { staticClass: \"sl-vue-tree-gap\" })\n                    }),\n                    _vm._v(\" \"),\n                    _vm.level && _vm.showBranches\n                      ? _c(\n                          \"div\",\n                          { staticClass: \"sl-vue-tree-branch\" },\n                          [\n                            _vm._t(\n                              \"branch\",\n                              [\n                                !node.isLastChild\n                                  ? _c(\"span\", [\n                                      _vm._v(\n                                        \"\\n            \" +\n                                          _vm._s(String.fromCharCode(0x251c)) +\n                                          _vm._s(String.fromCharCode(0x2500)) +\n                                          \" \\n          \"\n                                      )\n                                    ])\n                                  : _vm._e(),\n                                _vm._v(\" \"),\n                                node.isLastChild\n                                  ? _c(\"span\", [\n                                      _vm._v(\n                                        \"\\n            \" +\n                                          _vm._s(String.fromCharCode(0x2514)) +\n                                          _vm._s(String.fromCharCode(0x2500)) +\n                                          \" \\n          \"\n                                      )\n                                    ])\n                                  : _vm._e()\n                              ],\n                              { node: node }\n                            )\n                          ],\n                          2\n                        )\n                      : _vm._e(),\n                    _vm._v(\" \"),\n                    _c(\n                      \"div\",\n                      { staticClass: \"sl-vue-tree-title\" },\n                      [\n                        !node.isLeaf\n                          ? _c(\n                              \"span\",\n                              {\n                                staticClass: \"sl-vue-tree-toggle\",\n                                on: {\n                                  click: function(event) {\n                                    return _vm.onToggleHandler(event, node)\n                                  }\n                                }\n                              },\n                              [\n                                _vm._t(\n                                  \"toggle\",\n                                  [\n                                    _c(\"span\", [\n                                      _vm._v(\n                                        \"\\n             \" +\n                                          _vm._s(\n                                            !node.isLeaf\n                                              ? node.isExpanded\n                                                ? \"-\"\n                                                : \"+\"\n                                              : \"\"\n                                          ) +\n                                          \"\\n            \"\n                                      )\n                                    ])\n                                  ],\n                                  { node: node }\n                                )\n                              ],\n                              2\n                            )\n                          : _vm._e(),\n                        _vm._v(\" \"),\n                        _vm._t(\"title\", [_vm._v(_vm._s(node.title))], {\n                          node: node\n                        })\n                      ],\n                      2\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"div\",\n                      { staticClass: \"sl-vue-tree-sidebar\" },\n                      [_vm._t(\"sidebar\", null, { node: node })],\n                      2\n                    )\n                  ],\n                  2\n                ),\n                _vm._v(\" \"),\n                _c(\"div\", {\n                  staticClass: \"sl-vue-tree-cursor sl-vue-tree-cursor_after\",\n                  style: {\n                    visibility:\n                      _vm.cursorPosition &&\n                      _vm.cursorPosition.node.pathStr === node.pathStr &&\n                      _vm.cursorPosition.placement === \"after\"\n                        ? \"visible\"\n                        : \"hidden\"\n                  },\n                  on: {\n                    dragover: function(event) {\n                      return event.preventDefault()\n                    }\n                  }\n                }),\n                _vm._v(\" \"),\n                node.children && node.children.length && node.isExpanded\n                  ? _c(\"sl-vue-tree\", {\n                      attrs: {\n                        value: node.children,\n                        level: node.level,\n                        parentInd: nodeInd,\n                        allowMultiselect: _vm.allowMultiselect,\n                        edgeSize: _vm.edgeSize,\n                        showBranches: _vm.showBranches\n                      },\n                      on: {\n                        dragover: function(event) {\n                          return event.preventDefault()\n                        }\n                      },\n                      scopedSlots: _vm._u([\n                        {\n                          key: \"title\",\n                          fn: function(ref) {\n                            var node = ref.node\n                            return [\n                              _vm._t(\"title\", [_vm._v(_vm._s(node.title))], {\n                                node: node\n                              })\n                            ]\n                          }\n                        },\n                        {\n                          key: \"toggle\",\n                          fn: function(ref) {\n                            var node = ref.node\n                            return [\n                              _vm._t(\n                                \"toggle\",\n                                [\n                                  _c(\"span\", [\n                                    _vm._v(\n                                      \"\\n             \" +\n                                        _vm._s(\n                                          !node.isLeaf\n                                            ? node.isExpanded\n                                              ? \"-\"\n                                              : \"+\"\n                                            : \"\"\n                                        ) +\n                                        \"\\n          \"\n                                    )\n                                  ])\n                                ],\n                                { node: node }\n                              )\n                            ]\n                          }\n                        },\n                        {\n                          key: \"sidebar\",\n                          fn: function(ref) {\n                            var node = ref.node\n                            return [_vm._t(\"sidebar\", null, { node: node })]\n                          }\n                        }\n                      ])\n                    })\n                  : _vm._e()\n              ],\n              1\n            )\n          }),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            {\n              directives: [\n                {\n                  name: \"show\",\n                  rawName: \"v-show\",\n                  value: _vm.isDragging,\n                  expression: \"isDragging\"\n                }\n              ],\n              ref: \"dragInfo\",\n              staticClass: \"sl-vue-tree-drag-info\"\n            },\n            [\n              _vm._t(\"draginfo\", [\n                _vm._v(\n                  \"\\n        Items: \" + _vm._s(_vm.selectionSize) + \"\\n      \"\n                )\n              ])\n            ],\n            2\n          )\n        ],\n        2\n      )\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nexport { render, staticRenderFns }\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-0b7c263a\", { render: render, staticRenderFns: staticRenderFns })\n  }\n}","var disposed = false\n/* script */\nexport * from \"!!babel-loader!./sl-vue-tree.js\"\nimport __vue_script__ from \"!!babel-loader!./sl-vue-tree.js\"/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0b7c263a\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./sl-vue-tree.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src\\\\sl-vue-tree.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-0b7c263a\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-0b7c263a\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n"],"sourceRoot":""}